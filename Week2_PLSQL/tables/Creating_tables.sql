-- =========================================================
-- 1. Customers Table
-- =========================================================

CREATE TABLE Customers (
  CustomerID NUMBER PRIMARY KEY,
  Name VARCHAR2(100),
  DOB DATE,
  Balance NUMBER,
  LastModified DATE,
  IsVIP CHAR(1) DEFAULT 'N'
);

BEGIN
    INSERT INTO Customers VALUES (1, 'John Senior', TO_DATE('1950-01-01', 'YYYY-MM-DD'), 5000, SYSDATE, 'N');
    INSERT INTO Customers VALUES (2, 'Alice Rich', TO_DATE('1985-06-15', 'YYYY-MM-DD'), 15000, SYSDATE, 'N');
    INSERT INTO Customers VALUES (3, 'Bob DueSoon', TO_DATE('1990-12-10', 'YYYY-MM-DD'), 3000, SYSDATE, 'N');
    INSERT INTO Customers VALUES (4, 'Cathy Young', TO_DATE('2002-03-22', 'YYYY-MM-DD'), 12000, SYSDATE, 'N');
    INSERT INTO Customers VALUES (5, 'David Empty', TO_DATE('1988-11-05', 'YYYY-MM-DD'), 0, SYSDATE, 'N');
    COMMIT;
END;
/

-- =========================================================
-- 2. Accounts Table
-- =========================================================

CREATE TABLE Accounts (
  AccountID NUMBER PRIMARY KEY,
  CustomerID NUMBER,
  AccountType VARCHAR2(20),
  Balance NUMBER,
  LastModified DATE,
  FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
);

BEGIN
    INSERT INTO Accounts VALUES (1, 1, 'Savings', 5000, SYSDATE);
    INSERT INTO Accounts VALUES (2, 2, 'Savings', 15000, SYSDATE);
    INSERT INTO Accounts VALUES (3, 3, 'Checking', 3000, SYSDATE);
    INSERT INTO Accounts VALUES (4, 4, 'Savings', 12000, SYSDATE);
    INSERT INTO Accounts VALUES (5, 5, 'Checking', 0, SYSDATE);
    COMMIT;
END;
/

-- =========================================================
-- 3. Transactions Table
-- =========================================================

CREATE TABLE Transactions (
  TransactionID NUMBER PRIMARY KEY,
  AccountID NUMBER,
  TransactionDate DATE,
  Amount NUMBER,
  TransactionType VARCHAR2(10),
  FOREIGN KEY (AccountID) REFERENCES Accounts(AccountID)
);

BEGIN
    INSERT INTO Transactions VALUES (1, 1, SYSDATE, 200, 'Deposit');
    INSERT INTO Transactions VALUES (2, 2, SYSDATE, 300, 'Withdrawal');
    INSERT INTO Transactions VALUES (3, 4, SYSDATE, 500, 'Deposit');
    INSERT INTO Transactions VALUES (4, 5, SYSDATE, 100, 'Withdrawal');
    INSERT INTO Transactions VALUES (5, 3, SYSDATE, 250, 'Deposit');
    COMMIT;
END;
/

-- =========================================================
-- 4. Loans Table
-- =========================================================

CREATE TABLE Loans (
  LoanID NUMBER PRIMARY KEY,
  CustomerID NUMBER,
  LoanAmount NUMBER,
  InterestRate NUMBER,
  StartDate DATE,
  EndDate DATE,
  FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
);

BEGIN
    INSERT INTO Loans VALUES (101, 1, 10000, 7, SYSDATE - 100, SYSDATE + 60);
    INSERT INTO Loans VALUES (102, 3, 8000, 5, SYSDATE - 300, SYSDATE + 10);
    INSERT INTO Loans VALUES (103, 4, 12000, 6.5, SYSDATE - 200, SYSDATE + 25);
    INSERT INTO Loans VALUES (104, 2, 15000, 6, SYSDATE - 400, SYSDATE + 90);
    INSERT INTO Loans VALUES (105, 5, 5000, 4.5, SYSDATE - 50, SYSDATE + 15);
    COMMIT;
END;
/

-- =========================================================
-- 5. Employees Table
-- =========================================================

CREATE TABLE Employees (
  EmployeeID NUMBER PRIMARY KEY,
  Name VARCHAR2(100),
  Position VARCHAR2(50),
  Salary NUMBER,
  Department VARCHAR2(50),
  HireDate DATE
);

BEGIN
    INSERT INTO Employees VALUES (1, 'Alice Johnson', 'Manager', 70000, 'HR', TO_DATE('2015-06-15', 'YYYY-MM-DD'));
    INSERT INTO Employees VALUES (2, 'Bob Brown', 'Developer', 60000, 'IT', TO_DATE('2017-03-20', 'YYYY-MM-DD'));
    INSERT INTO Employees VALUES (3, 'Carol Tester', 'QA', 50000, 'IT', TO_DATE('2019-08-10', 'YYYY-MM-DD'));
    INSERT INTO Employees VALUES (4, 'Dan Analyst', 'Analyst', 55000, 'Finance', TO_DATE('2020-01-05', 'YYYY-MM-DD'));
    INSERT INTO Employees VALUES (5, 'Emily Greene', 'Clerk', 40000, 'Operations', TO_DATE('2021-07-12', 'YYYY-MM-DD'));
    COMMIT;
END;
/

-- =========================================================
-- 6. Customer_Login Table
-- =========================================================

CREATE TABLE Customer_Login (
  LoginID NUMBER PRIMARY KEY,
  CustomerID NUMBER,
  Username VARCHAR2(50) UNIQUE,
  Password VARCHAR2(100),
  LastLogin DATE,
  FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
);

BEGIN
    INSERT INTO Customer_Login VALUES (1, 1, 'john_doe', 'password123', SYSDATE);
    INSERT INTO Customer_Login VALUES (2, 2, 'jane_smith', 'pass456', SYSDATE);
    INSERT INTO Customer_Login VALUES (3, 3, 'david_w', 'securepass', SYSDATE);
    INSERT INTO Customer_Login VALUES (4, 4, 'maria_g', 'letmein123', SYSDATE);
    DBMS_OUTPUT.PUT_LINE('Customer logins inserted.');
    COMMIT;
END;
/

-- =========================================================
-- 7. AuditLog Table
-- =========================================================

CREATE TABLE AuditLog (
  LogID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  AccountID NUMBER,
  Action VARCHAR2(20),
  Amount NUMBER,
  LogDate DATE DEFAULT SYSDATE
);

BEGIN
    INSERT INTO AuditLog (AccountID, Action, Amount) VALUES (1, 'Deposit', 200);
    INSERT INTO AuditLog (AccountID, Action, Amount) VALUES (2, 'Withdrawal', 150);
    INSERT INTO AuditLog (AccountID, Action, Amount) VALUES (3, 'Deposit', 300);
    INSERT INTO AuditLog (AccountID, Action, Amount) VALUES (4, 'Deposit', 500);
    INSERT INTO AuditLog (AccountID, Action, Amount) VALUES (5, 'Withdrawal', 100);
    COMMIT;
END;
/
